import{p as k,u as Y,r as v,c as M,q as H,o as $,s as G,b as E,w as J,U as K,e as i,g as l,h as p,f as e,t as c,i as C,v as U,F as x,k as b,n as f,l as X,y as Z}from"./index-CKJZMbs9.js";import{r as T}from"./realtimeService-B2h0dO5p.js";class D{async calculateOverallRankings(){try{const r=await k.pb.collection("submissions").getFullList({expand:"user,quiz",sort:"-created"}),n=this.groupSubmissionsByUser(r);return Object.values(n).map(s=>{const u=this.calculateQuestionMetrics(s.submissions);return{userId:s.userId,username:s.username,name:s.name,avatar:s.avatar,totalQuizzes:s.submissions.length,averageScore:this.calculateAverage(s.submissions.map(h=>h.score||0)),totalPoints:s.submissions.reduce((h,m)=>h+(m.score||0),0),improvementRate:this.calculateImprovementRate(s.submissions),consistencyScore:this.calculateConsistency(s.submissions),recentActivity:this.getRecentActivityScore(s.submissions),category:this.getPreferredCategory(s.submissions),uniqueQuestionsAnswered:u.uniqueQuestionsAnswered,accuracyRate:u.accuracyRate,totalQuestionsAttempted:u.totalQuestionsAttempted,correctAnswers:u.correctAnswers}}).filter(s=>s.totalQuizzes>=1).sort((s,u)=>this.calculateWeightedScore(u)-this.calculateWeightedScore(s))}catch(r){return console.error("Error calculating overall rankings:",r),[]}}async calculateCategoryRankings(r){try{const n=await k.pb.collection("submissions").getFullList({filter:`quiz.category = "${r}"`,expand:"user,quiz",sort:"-created"}),t=this.groupSubmissionsByUser(n);return Object.values(t).map(s=>({userId:s.userId,username:s.userId,name:s.name,score:this.calculateAverage(s.submissions.map(u=>u.score||0)),quizzesCompleted:s.submissions.length})).filter(s=>s.quizzesCompleted>=1).sort((s,u)=>u.score-s.score).slice(0,5)}catch(n){return console.error(`Error calculating ${r} rankings:`,n),[]}}async calculateMostActiveRankings(){try{const r=await k.pb.collection("submissions").getFullList({expand:"user,quiz",sort:"-created"}),n=this.groupSubmissionsByUser(r);return Object.values(n).map(t=>({userId:t.userId,username:t.username,name:t.name,quizzesCompleted:t.submissions.length,recentActivity:this.getRecentActivityScore(t.submissions),studyStreak:this.calculateStudyStreak(t.submissions)})).filter(t=>t.quizzesCompleted>=1).sort((t,s)=>s.quizzesCompleted-t.quizzesCompleted).slice(0,10)}catch(r){return console.error("Error calculating most active rankings:",r),[]}}async calculateMostImprovedRankings(){try{const r=await k.pb.collection("submissions").getFullList({expand:"user,quiz",sort:"-created"}),n=this.groupSubmissionsByUser(r);return Object.values(n).map(t=>({userId:t.userId,username:t.username,name:t.name,improvementRate:this.calculateImprovementRate(t.submissions),totalQuizzes:t.submissions.length,averageScore:this.calculateAverage(t.submissions.map(s=>s.score||0))})).filter(t=>t.totalQuizzes>=5).sort((t,s)=>s.improvementRate-t.improvementRate).slice(0,10)}catch(r){return console.error("Error calculating most improved rankings:",r),[]}}async calculateTotalPointsRankings(){try{const r=await k.pb.collection("submissions").getFullList({expand:"user,quiz",sort:"-created"}),n=this.groupSubmissionsByUser(r);return Object.values(n).map(t=>({userId:t.userId,username:t.username,name:t.name,totalPoints:t.submissions.reduce((s,u)=>s+(u.score||0),0),totalQuizzes:t.submissions.length,averageScore:this.calculateAverage(t.submissions.map(s=>s.score||0))})).filter(t=>t.totalQuizzes>=1).sort((t,s)=>s.totalPoints-t.totalPoints).slice(0,20)}catch(r){return console.error("Error calculating total points rankings:",r),[]}}async calculateUniqueQuestionsRankings(){try{const r=await k.pb.collection("submissions").getFullList({expand:"user,quiz",sort:"-created"}),n=this.groupSubmissionsByUser(r);return Object.values(n).map(t=>{const s=this.calculateQuestionMetrics(t.submissions);return{userId:t.userId,username:t.username,name:t.name,uniqueQuestionsAnswered:s.uniqueQuestionsAnswered,totalQuestionsAttempted:s.totalQuestionsAttempted,correctAnswers:s.correctAnswers,accuracyRate:s.accuracyRate,totalQuizzes:t.submissions.length}}).filter(t=>t.totalQuizzes>=1).sort((t,s)=>s.uniqueQuestionsAnswered-t.uniqueQuestionsAnswered).slice(0,20)}catch(r){return console.error("Error calculating unique questions rankings:",r),[]}}async calculateAccuracyRankings(){try{const r=await k.pb.collection("submissions").getFullList({expand:"user,quiz",sort:"-created"}),n=this.groupSubmissionsByUser(r);return Object.values(n).map(t=>{const s=this.calculateQuestionMetrics(t.submissions);return{userId:t.userId,username:t.username,name:t.name,accuracyRate:s.accuracyRate,uniqueQuestionsAnswered:s.uniqueQuestionsAnswered,totalQuestionsAttempted:s.totalQuestionsAttempted,correctAnswers:s.correctAnswers,totalQuizzes:t.submissions.length}}).filter(t=>t.totalQuizzes>=3&&t.totalQuestionsAttempted>=10).sort((t,s)=>s.accuracyRate-t.accuracyRate).slice(0,20)}catch(r){return console.error("Error calculating accuracy rankings:",r),[]}}groupSubmissionsByUser(r){const n={};return r.forEach(t=>{const s=t.user,u=t.expand?.user;n[s]||(n[s]={userId:s,username:u?.username||"Unknown",name:u?.name||"Unknown User",avatar:u?.avatar||null,submissions:[]}),n[s].submissions.push(t)}),n}calculateWeightedScore(r){const{averageScore:n,totalQuizzes:t,uniqueQuestionsAnswered:s,accuracyRate:u}=r;return n*.4+Math.min(t/20,1)*100*.25+Math.min(s/100,1)*100*.2+u*.15}calculateImprovementRate(r){if(r.length<5)return 0;const n=r.sort((m,z)=>new Date(m.created)-new Date(z.created)),t=n.slice(0,Math.ceil(n.length/2)),s=n.slice(Math.ceil(n.length/2)),u=this.calculateAverage(t.map(m=>m.score||0)),h=this.calculateAverage(s.map(m=>m.score||0));return Math.round(h-u)}calculateConsistency(r){if(r.length<2)return 100;const n=r.map(h=>h.score||0),t=this.calculateAverage(n),s=n.reduce((h,m)=>h+Math.pow(m-t,2),0)/n.length,u=Math.sqrt(s);return Math.max(0,100-u)}getRecentActivityScore(r){if(r.length===0)return 0;const n=new Date;return r.filter(s=>{const u=new Date(s.created);return n-u<10080*60*1e3}).length}calculateStudyStreak(r){if(r.length===0)return 0;const n=r.map(u=>new Date(u.created).toDateString()),t=[...new Set(n)].sort();let s=1;for(let u=t.length-1;u>0;u--){const h=new Date(t[u]),m=new Date(t[u-1]);if(Math.floor((h-m)/(1e3*60*60*24))===1)s++;else break}return s}getPreferredCategory(r){if(r.length===0)return"Unknown";const n={};return r.forEach(t=>{const s=t.expand?.quiz?.category;s&&(n[s]=(n[s]||0)+1)}),Object.keys(n).reduce((t,s)=>n[t]>n[s]?t:s,"Unknown")}calculateQuestionMetrics(r){const n=new Set;let t=0,s=0;r.forEach(h=>{h.answers&&Array.isArray(h.answers)&&h.answers.forEach(m=>{m.questionId&&(n.add(m.questionId),t++,m.isCorrect&&s++)})});const u=t>0?Math.round(s/t*100):0;return{uniqueQuestionsAnswered:n.size,totalQuestionsAttempted:t,correctAnswers:s,accuracyRate:u}}calculateAverage(r){return!r||r.length===0?0:Math.round(r.reduce((n,t)=>n+t,0)/r.length)}async getUserRank(r){try{const t=(await this.calculateOverallRankings()).findIndex(s=>s.userId===r);return t!==-1?t+1:"N/A"}catch(n){return console.error("Error getting user rank:",n),"N/A"}}}const A=new D,ee={key:0,class:"bg-white rounded-xl shadow-lg p-8 mb-8"},te={key:1,class:"bg-red-50 border border-red-200 rounded-xl p-8 mb-8"},se={class:"flex items-center"},oe={class:"ml-3"},re={class:"text-red-700"},ne={key:2,class:"bg-gradient-to-r from-purple-600 to-indigo-700 rounded-xl shadow-lg p-8 text-white mb-8"},ae={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between"},ie={class:"mt-6 lg:mt-0"},le={class:"text-center"},ce={class:"text-4xl font-bold"},ue={key:0,class:"text-sm text-purple-200 mt-1"},de={key:3,class:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-8"},me={class:"flex flex-wrap items-center gap-4"},ge={key:4,class:"bg-white rounded-xl shadow-lg border border-gray-200 mb-8"},he={class:"border-b border-gray-200"},ve={class:"flex space-x-8 px-6","aria-label":"Tabs"},ye=["onClick"],pe={class:"flex items-center"},xe={class:"p-6"},be={key:0,class:"space-y-4"},fe={class:"flex-1"},_e={class:"flex items-center"},we={class:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center mr-3"},ke={class:"text-white text-sm font-medium"},Ae={class:"font-medium text-gray-900"},ze={class:"text-sm text-gray-500"},Re={class:"text-right"},qe={class:"text-2xl font-bold text-gray-900"},Se={class:"text-sm text-gray-500"},Qe={class:"ml-4"},Ie={key:0,class:"text-2xl"},Me={key:1,class:"text-2xl"},Ce={key:2,class:"text-2xl"},Ue={key:3,class:"text-gray-400"},Le={key:1,class:"space-y-4"},Pe={class:"flex-1"},je={class:"flex items-center"},Ee={class:"w-10 h-10 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-full flex items-center justify-center mr-3"},Te={class:"text-white text-sm font-medium"},Be={class:"font-medium text-gray-900"},Oe={class:"text-sm text-gray-500"},We={class:"text-right"},Fe={class:"text-2xl font-bold text-gray-900"},Ne={class:"ml-4"},Ve={key:0,class:"text-2xl"},Ye={key:1,class:"text-2xl"},He={key:2,class:"text-2xl"},$e={key:3,class:"text-gray-400"},Ge={key:2,class:"space-y-4"},Je={class:"flex-1"},Ke={class:"flex items-center"},Xe={class:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center mr-3"},Ze={class:"text-white text-sm font-medium"},De={class:"font-medium text-gray-900"},et={class:"text-sm text-gray-500"},tt={class:"text-right"},st={class:"text-2xl font-bold text-gray-900"},ot={class:"ml-4"},rt={key:0,class:"text-2xl"},nt={key:1,class:"text-2xl"},at={key:2,class:"text-2xl"},it={key:3,class:"text-gray-400"},lt={key:3,class:"space-y-4"},ct={class:"flex-1"},ut={class:"flex items-center"},dt={class:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mr-3"},mt={class:"text-white text-sm font-medium"},gt={class:"font-medium text-gray-900"},ht={class:"text-sm text-gray-500"},vt={class:"text-right"},yt={class:"text-2xl font-bold text-gray-900"},pt={class:"ml-4"},xt={key:0,class:"text-2xl"},bt={key:1,class:"text-2xl"},ft={key:2,class:"text-2xl"},_t={key:3,class:"text-gray-400"},wt={key:5,class:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8"},kt={class:"bg-white rounded-xl shadow-lg border border-gray-200 p-6"},At={class:"space-y-3"},zt={class:"flex items-center"},Rt={class:"text-sm font-medium text-gray-700 mr-2"},qt={class:"text-sm text-gray-900"},St={class:"text-sm font-semibold text-blue-600"},Qt={class:"bg-white rounded-xl shadow-lg border border-gray-200 p-6"},It={class:"space-y-3"},Mt={class:"flex items-center"},Ct={class:"text-sm font-medium text-gray-700 mr-2"},Ut={class:"text-sm text-gray-900"},Lt={class:"text-sm font-semibold text-green-600"},Pt={class:"bg-white rounded-xl shadow-lg border border-gray-200 p-6"},jt={class:"space-y-3"},Et={class:"flex items-center"},Tt={class:"text-sm font-medium text-gray-700 mr-2"},Bt={class:"text-sm text-gray-900"},Ot={class:"text-sm font-semibold text-purple-600"},Wt={key:6,class:"bg-white rounded-xl shadow-lg border border-gray-200 p-6"},Ft={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Nt={class:"text-3xl mb-2"},Vt={class:"font-medium text-gray-900 mb-1"},Yt={class:"text-sm text-gray-600"},Ht={class:"text-xs text-gray-500 mt-1"},Jt={__name:"Leaderboard",setup(B){const r=Y(),n=v({timePeriod:"week",category:"all",difficulty:"all"}),t=v([]),s=v([]),u=v([]),h=v([]),m=v({excel:[],python:[],pandas:[]}),z=v([]),_=v(!0),w=v(null),R=v("overall"),L=v(0),O=v([{id:"overall",name:"Overall",icon:"TrophyIcon"},{id:"points",name:"Total Points",icon:"StarIcon"},{id:"questions",name:"Unique Questions",icon:"QuestionMarkCircleIcon"},{id:"accuracy",name:"Accuracy Rate",icon:"TargetIcon"}]),I=M(()=>r.user),y=M(()=>I.value?.id),P=M(()=>{const g=t.value.findIndex(a=>a.userId===y.value);return g!==-1?g+1:"N/A"}),q=g=>g===1?"bg-yellow-400 text-white":g===2?"bg-gray-300 text-white":g===3?"bg-orange-400 text-white":"bg-gray-200 text-gray-700",S=g=>g?g.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2):"U",W=g=>new Date(g).toLocaleDateString(),Q=async()=>{_.value=!0,w.value=null;try{const[g,a,o,d,F,N,V]=await Promise.all([A.calculateOverallRankings(),A.calculateTotalPointsRankings(),A.calculateUniqueQuestionsRankings(),A.calculateAccuracyRankings(),A.calculateCategoryRankings("Excel"),A.calculateCategoryRankings("Python"),A.calculateCategoryRankings("Pandas")]);t.value=g.slice(0,20),s.value=a,u.value=o,h.value=d,L.value=g.length,m.value={excel:F,python:N,pandas:V},z.value=[{id:1,name:"Perfect Score",icon:"🏆",student:"Recent Achiever",date:new Date},{id:2,name:"Streak Master",icon:"🔥",student:"Active Learner",date:new Date(Date.now()-1440*60*1e3)},{id:3,name:"Speed Demon",icon:"⚡",student:"Quick Thinker",date:new Date(Date.now()-2880*60*1e3)},{id:4,name:"First Quiz",icon:"🎯",student:"New Student",date:new Date(Date.now()-4320*60*1e3)}]}catch(g){w.value="An error occurred while loading leaderboard data",console.error("Error loading leaderboard data:",g)}finally{_.value=!1}};H(()=>I.value?.id,g=>{g&&(Q(),j())});const j=()=>{T.subscribeToLeaderboardUpdates(g=>{console.log("Leaderboard real-time update received:",g),Q()})};return $(()=>{I.value?.id&&(Q(),j())}),G(()=>{T.unsubscribeFromLeaderboardUpdates()}),(g,a)=>(i(),E(K,null,{default:J(()=>[_.value?(i(),l("div",ee,[...a[3]||(a[3]=[e("div",{class:"flex items-center justify-center"},[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"}),e("span",{class:"ml-3 text-lg text-gray-600"},"Loading leaderboard data...")],-1)])])):w.value?(i(),l("div",te,[e("div",se,[a[5]||(a[5]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("div",oe,[a[4]||(a[4]=e("h3",{class:"text-lg font-medium text-red-800"},"Error Loading Leaderboard",-1)),e("p",re,c(w.value),1),e("button",{onClick:Q,class:"mt-2 text-red-600 hover:text-red-500 underline"}," Try Again ")])])])):(i(),l("div",ne,[e("div",ae,[a[7]||(a[7]=e("div",{class:"flex-1"},[e("h1",{class:"text-3xl font-bold mb-2"},"Leaderboard"),e("p",{class:"text-purple-100 text-lg"}," Compete with your peers and track your ranking ")],-1)),e("div",ie,[e("div",le,[e("div",ce,"#"+c(P.value),1),a[6]||(a[6]=e("div",{class:"text-purple-100"},"Your Current Rank",-1)),P.value!=="N/A"?(i(),l("div",ue," Out of "+c(L.value)+" users ",1)):p("",!0)])])])])),!_.value&&!w.value?(i(),l("div",de,[e("div",me,[e("div",null,[a[9]||(a[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Time Period",-1)),C(e("select",{"onUpdate:modelValue":a[0]||(a[0]=o=>n.value.timePeriod=o),class:"border border-gray-300 rounded-md px-3 py-2 text-sm"},[...a[8]||(a[8]=[e("option",{value:"week"},"This Week",-1),e("option",{value:"month"},"This Month",-1),e("option",{value:"all"},"All Time",-1)])],512),[[U,n.value.timePeriod]])]),e("div",null,[a[11]||(a[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Category",-1)),C(e("select",{"onUpdate:modelValue":a[1]||(a[1]=o=>n.value.category=o),class:"border border-gray-300 rounded-md px-3 py-2 text-sm"},[...a[10]||(a[10]=[e("option",{value:"all"},"All Categories",-1),e("option",{value:"excel"},"Excel",-1),e("option",{value:"python"},"Python",-1),e("option",{value:"pandas"},"Pandas",-1)])],512),[[U,n.value.category]])]),e("div",null,[a[13]||(a[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Difficulty",-1)),C(e("select",{"onUpdate:modelValue":a[2]||(a[2]=o=>n.value.difficulty=o),class:"border border-gray-300 rounded-md px-3 py-2 text-sm"},[...a[12]||(a[12]=[e("option",{value:"all"},"All Levels",-1),e("option",{value:"easy"},"Easy",-1),e("option",{value:"normal"},"Normal",-1),e("option",{value:"hard"},"Hard",-1),e("option",{value:"very-hard"},"Very Hard",-1)])],512),[[U,n.value.difficulty]])])])])):p("",!0),!_.value&&!w.value?(i(),l("div",ge,[e("div",he,[e("nav",ve,[(i(!0),l(x,null,b(O.value,o=>(i(),l("button",{key:o.id,onClick:d=>R.value=o.id,class:f(["py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200",R.value===o.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},[e("div",pe,[(i(),E(Z(o.icon),{class:"w-5 h-5 mr-2"})),X(" "+c(o.name),1)])],10,ye))),128))])]),e("div",xe,[R.value==="overall"?(i(),l("div",be,[(i(!0),l(x,null,b(t.value,(o,d)=>(i(),l("div",{key:o.userId,class:f(["flex items-center p-4 rounded-lg border transition-all duration-200 hover:shadow-md",o.userId===y.value?"bg-blue-50 border-blue-200 shadow-md":"bg-gray-50 border-gray-200 hover:bg-gray-100"])},[e("div",{class:f(["flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg mr-4",q(d+1)])},c(d+1),3),e("div",fe,[e("div",_e,[e("div",we,[e("span",ke,c(S(o.name)),1)]),e("div",null,[e("h3",Ae,c(o.userId===y.value?"You":o.name),1),e("p",ze,c(o.category),1)])])]),e("div",Re,[e("div",qe,c(o.averageScore)+"%",1),e("div",Se,c(o.totalQuizzes)+" quizzes",1)]),e("div",Qe,[d===0?(i(),l("span",Ie,"🥇")):d===1?(i(),l("span",Me,"🥈")):d===2?(i(),l("span",Ce,"🥉")):(i(),l("span",Ue,"#"+c(d+1),1))])],2))),128))])):p("",!0),R.value==="points"?(i(),l("div",Le,[(i(!0),l(x,null,b(s.value,(o,d)=>(i(),l("div",{key:o.userId,class:f(["flex items-center p-4 rounded-lg border transition-all duration-200 hover:shadow-md",o.userId===y.value?"bg-yellow-50 border-yellow-200 shadow-md":"bg-gray-50 border-gray-200 hover:bg-gray-100"])},[e("div",{class:f(["flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg mr-4",q(d+1)])},c(d+1),3),e("div",Pe,[e("div",je,[e("div",Ee,[e("span",Te,c(S(o.name)),1)]),e("div",null,[e("h3",Be,c(o.userId===y.value?"You":o.name),1),e("p",Oe,c(o.totalQuizzes)+" quizzes",1)])])]),e("div",We,[e("div",Fe,c(o.totalPoints),1),a[14]||(a[14]=e("div",{class:"text-sm text-gray-500"},"total points",-1))]),e("div",Ne,[d===0?(i(),l("span",Ve,"🏆")):d===1?(i(),l("span",Ye,"🥈")):d===2?(i(),l("span",He,"🥉")):(i(),l("span",$e,"#"+c(d+1),1))])],2))),128))])):p("",!0),R.value==="questions"?(i(),l("div",Ge,[(i(!0),l(x,null,b(u.value,(o,d)=>(i(),l("div",{key:o.userId,class:f(["flex items-center p-4 rounded-lg border transition-all duration-200 hover:shadow-md",o.userId===y.value?"bg-indigo-50 border-indigo-200 shadow-md":"bg-gray-50 border-gray-200 hover:bg-gray-100"])},[e("div",{class:f(["flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg mr-4",q(d+1)])},c(d+1),3),e("div",Je,[e("div",Ke,[e("div",Xe,[e("span",Ze,c(S(o.name)),1)]),e("div",null,[e("h3",De,c(o.userId===y.value?"You":o.name),1),e("p",et,c(o.totalQuizzes)+" quizzes",1)])])]),e("div",tt,[e("div",st,c(o.uniqueQuestionsAnswered),1),a[15]||(a[15]=e("div",{class:"text-sm text-gray-500"},"unique questions",-1))]),e("div",ot,[d===0?(i(),l("span",rt,"🧠")):d===1?(i(),l("span",nt,"🥈")):d===2?(i(),l("span",at,"🥉")):(i(),l("span",it,"#"+c(d+1),1))])],2))),128))])):p("",!0),R.value==="accuracy"?(i(),l("div",lt,[(i(!0),l(x,null,b(h.value,(o,d)=>(i(),l("div",{key:o.userId,class:f(["flex items-center p-4 rounded-lg border transition-all duration-200 hover:shadow-md",o.userId===y.value?"bg-green-50 border-green-200 shadow-md":"bg-gray-50 border-gray-200 hover:bg-gray-100"])},[e("div",{class:f(["flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg mr-4",q(d+1)])},c(d+1),3),e("div",ct,[e("div",ut,[e("div",dt,[e("span",mt,c(S(o.name)),1)]),e("div",null,[e("h3",gt,c(o.userId===y.value?"You":o.name),1),e("p",ht,c(o.totalQuestionsAttempted)+" questions",1)])])]),e("div",vt,[e("div",yt,c(o.accuracyRate)+"%",1),a[16]||(a[16]=e("div",{class:"text-sm text-gray-500"},"accuracy rate",-1))]),e("div",pt,[d===0?(i(),l("span",xt,"🎯")):d===1?(i(),l("span",bt,"🥈")):d===2?(i(),l("span",ft,"🥉")):(i(),l("span",_t,"#"+c(d+1),1))])],2))),128))])):p("",!0)])])):p("",!0),!_.value&&!w.value?(i(),l("div",wt,[e("div",kt,[a[17]||(a[17]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Excel Expert",-1)),e("div",At,[(i(!0),l(x,null,b(m.value.excel,(o,d)=>(i(),l("div",{key:o.id,class:"flex items-center justify-between"},[e("div",zt,[e("span",Rt,"#"+c(d+1),1),e("span",qt,c(o.name),1)]),e("span",St,c(o.score)+"%",1)]))),128))])]),e("div",Qt,[a[18]||(a[18]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Python Ninja",-1)),e("div",It,[(i(!0),l(x,null,b(m.value.python,(o,d)=>(i(),l("div",{key:o.id,class:"flex items-center justify-between"},[e("div",Mt,[e("span",Ct,"#"+c(d+1),1),e("span",Ut,c(o.name),1)]),e("span",Lt,c(o.score)+"%",1)]))),128))])]),e("div",Pt,[a[19]||(a[19]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Pandas Master",-1)),e("div",jt,[(i(!0),l(x,null,b(m.value.pandas,(o,d)=>(i(),l("div",{key:o.id,class:"flex items-center justify-between"},[e("div",Et,[e("span",Tt,"#"+c(d+1),1),e("span",Bt,c(o.name),1)]),e("span",Ot,c(o.score)+"%",1)]))),128))])])])):p("",!0),!_.value&&!w.value?(i(),l("div",Wt,[a[20]||(a[20]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Recent Achievements",-1)),e("div",Ft,[(i(!0),l(x,null,b(z.value,o=>(i(),l("div",{key:o.id,class:"text-center p-4 bg-gradient-to-br from-yellow-50 to-orange-50 rounded-lg border border-yellow-200"},[e("div",Nt,c(o.icon),1),e("h4",Vt,c(o.name),1),e("p",Yt,c(o.student),1),e("p",Ht,c(W(o.date)),1)]))),128))])])):p("",!0)]),_:1}))}};export{Jt as default};
